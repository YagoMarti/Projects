@model IEnumerable<SistRepos.Models.usuarios>

@{
    ViewBag.Title = "Sistema de Reposiciones";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<form role="form" action="@Url.Action("Index")" method="Post" class="form-horizontal">
    <div class="form-group">
        <div class="col-lg-3"></div>
        <div class="col-lg-4">
            <fieldset>
                <legend>Buscar Usuarios</legend>
                <div class="form-group">
                    <label class="col-lg-4 control-label">Por supervisor: </label>
                    <div class="col-lg-8">
                        @Html.DropDownList("idSupervisor", null, String.Empty, new {  @onchange="sup()" , @class = "form-control" })
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-lg-4 control-label">Por usuario: </label>
                    <div class="col-lg-8">
                        @Html.DropDownList("idUsuario", null, String.Empty, new { @onchange = "usu()", @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-lg-2"> </div>
                        <input type="submit" value="Consultar" name="boton" class="btn btn-default" />
                        <input type="submit" value="Editar" name="boton" class="btn btn-default" />
                        <input type="submit" value="Cambiar Permisos" name="boton" class="btn btn-default" />
                        <input type="submit" onclick="funcConfirmar2();" value="Reiniciar Clave" name="boton" class="btn btn-default" id="resc" />
                        <input type="submit" onclick="funcConfirmar();" value="Eliminar" name="boton" class="btn btn-danger" id="elim" />
                    
                </div>
</fieldset>
        </div>
         </div>
</form>

    @if (Model != null)
{
    <div class="form-group">
        <div class="col-lg-12">
            <table class="table table-striped table-hover">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.nombre)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.apellido)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.telefono)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.username)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.localidades.localidad)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.roles.rol)
                    </th>
                    <th>
                        Supervisor
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.apellido)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.telefono)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.username)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.localidades.localidad)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.roles.rol)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.usuarios2.username)
                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
}




                <script>
    function funcConfirmar() {
        var r = confirm("Confirme si desea eliminar el usuario");
        if (r == true) {
            elim.value = "Eliminar";
        } else {
            elim.value = "Elimnar";
        }
    }
    function funcConfirmar2() {
        var r = confirm("Confirme si desea Reiniciar la Clave del usuario");
        if (r == true) {
            resc.value = "Reiniciar Clave";
        } else {
            resc.value = "Reinicar Clave";
        }
    }

    function sup() {
        $('#idUsuario').val(null);
    }
    function usu() {
        $('#idSupervisor').val(null);
    }
                </script>
